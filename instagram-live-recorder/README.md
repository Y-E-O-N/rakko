# Instagram Live Recorder ğŸ“¹

ì§€ì •í•œ Instagram ìœ ì €ê°€ ë¼ì´ë¸Œë¥¼ ì‹œì‘í•˜ë©´ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³  ë…¹í™”í•˜ëŠ” í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.

## ì£¼ìš” ê¸°ëŠ¥

- ğŸ” **ìë™ ë¼ì´ë¸Œ ê°ì§€**: ìµœëŒ€ 300ëª…ì˜ ìœ ì €ë¥¼ ë™ì‹œì— ëª¨ë‹ˆí„°ë§
- ğŸ¬ **ìë™ ë…¹í™”**: ë¼ì´ë¸Œ ê°ì§€ ì¦‰ì‹œ ë…¹í™” ì‹œì‘
- ğŸ“± **Telegram ì•Œë¦¼**: ë…¹í™” ì‹œì‘/ì™„ë£Œ ì‹œ ì‹¤ì‹œê°„ ì•Œë¦¼
- â˜ï¸ **í´ë¼ìš°ë“œ ë°±ì—…**: Cloudflare R2ì— ìë™ ì—…ë¡œë“œ (ì„ íƒì‚¬í•­)
- ğŸ”„ **ì„¸ì…˜ ìë™ ë³µêµ¬**: ì„¸ì…˜ ë§Œë£Œ ì‹œ ìë™ ì¬ë¡œê·¸ì¸

## ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

- Python 3.9+
- FFmpeg
- yt-dlp (pipìœ¼ë¡œ ì„¤ì¹˜ë¨)

## ì„¤ì¹˜ ë°©ë²•

### 1. ì €ì¥ì†Œ í´ë¡ 

```bash
git clone <repository-url>
cd instagram-live-recorder
```

### 2. Python ê°€ìƒí™˜ê²½ ìƒì„± (ê¶Œì¥)

```bash
python -m venv venv

# Windows
venv\Scripts\activate

# macOS/Linux
source venv/bin/activate
```

### 3. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
pip install -r requirements.txt
```

### 4. FFmpeg ì„¤ì¹˜

**Windows:**
```bash
# winget ì‚¬ìš©
winget install FFmpeg

# ë˜ëŠ” choco ì‚¬ìš©
choco install ffmpeg
```

**macOS:**
```bash
brew install ffmpeg
```

**Linux:**
```bash
sudo apt update
sudo apt install ffmpeg
```

### 5. ì„¤ì • íŒŒì¼ ìƒì„±

```bash
# ì„¤ì • íŒŒì¼ ë³µì‚¬
cp config/settings.example.yaml config/settings.yaml
cp config/targets.example.json config/targets.json

# ì„¤ì • íŒŒì¼ í¸ì§‘
# Windows: notepad config/settings.yaml
# macOS/Linux: nano config/settings.yaml
```

## ì„¤ì • ê°€ì´ë“œ

### Instagram ê³„ì • ì„¤ì •

`config/settings.yaml` íŒŒì¼ì„ ì—´ê³  Instagram ê³„ì • ì •ë³´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤:

```yaml
instagram:
  username: "your_instagram_username"
  password: "your_instagram_password"
```

âš ï¸ **ë³´ì•ˆ ê¶Œì¥ì‚¬í•­:**
- ë©”ì¸ ê³„ì •ì´ ì•„ë‹Œ ë¶€ê³„ì • ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤
- 2FAë¥¼ ì„¤ì •í•œ ê²½ìš° `totp_secret`ì„ ì¶”ê°€í•˜ì„¸ìš”

### ëª¨ë‹ˆí„°ë§ ëŒ€ìƒ ì„¤ì •

`config/targets.json` íŒŒì¼ì— ëª¨ë‹ˆí„°ë§í•  ìœ ì €ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤:

```json
{
  "targets": [
    {
      "username": "instagram_user1",
      "alias": "í‘œì‹œí•  ì´ë¦„",
      "priority": "high",
      "enabled": true
    },
    {
      "username": "instagram_user2",
      "alias": "ë‹¤ë¥¸ ìœ ì €",
      "priority": "normal",
      "enabled": true
    }
  ]
}
```

- `username`: Instagram ìœ ì €ë„¤ì„ (í•„ìˆ˜)
- `alias`: ì•Œë¦¼ì— í‘œì‹œë  ë³„ëª…
- `priority`: `high`, `normal`, `low` - highëŠ” ë” ìì£¼ ì²´í¬
- `enabled`: `false`ë¡œ ì„¤ì •í•˜ë©´ ëª¨ë‹ˆí„°ë§ì—ì„œ ì œì™¸

### Telegram ì•Œë¦¼ ì„¤ì •

1. **BotFatherì—ì„œ ë´‡ ìƒì„±:**
   - Telegramì—ì„œ @BotFather ê²€ìƒ‰
   - `/newbot` ëª…ë ¹ìœ¼ë¡œ ìƒˆ ë´‡ ìƒì„±
   - ë°œê¸‰ë°›ì€ í† í°ì„ ì €ì¥

2. **Chat ID í™•ì¸:**
   - ìƒì„±í•œ ë´‡ì—ê²Œ ì•„ë¬´ ë©”ì‹œì§€ë‚˜ ì „ì†¡
   - `https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates` ì ‘ì†
   - `chat.id` ê°’ í™•ì¸

3. **ì„¤ì • íŒŒì¼ì— ì…ë ¥:**

```yaml
notifications:
  enabled: true
  telegram:
    bot_token: "1234567890:ABCdefGHIjklMNOpqrsTUVwxyz"
    chat_id: "123456789"
```

### í´ë¼ìš°ë“œ ì €ì¥ì†Œ ì„¤ì • (ì„ íƒì‚¬í•­)

Cloudflare R2ë¥¼ ì‚¬ìš©í•˜ë©´ ë…¹í™” íŒŒì¼ì„ ìë™ìœ¼ë¡œ í´ë¼ìš°ë“œì— ë°±ì—…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. **Cloudflare R2 ì„¤ì •:**
   - Cloudflare ëŒ€ì‹œë³´ë“œ â†’ R2 â†’ ë²„í‚· ìƒì„±
   - API í† í° ìƒì„± (R2 ì½ê¸°/ì“°ê¸° ê¶Œí•œ)

2. **ì„¤ì • íŒŒì¼ì— ì…ë ¥:**

```yaml
cloud_storage:
  enabled: true
  provider: "r2"
  r2:
    account_id: "your_cloudflare_account_id"
    access_key_id: "your_r2_access_key"
    secret_access_key: "your_r2_secret_key"
    bucket_name: "instagram-lives"
```

## ì‚¬ìš©ë²•

### ê¸°ë³¸ ì‹¤í–‰

```bash
python main.py
```

### ì˜µì…˜

```bash
# ë‹¤ë¥¸ ì„¤ì • íŒŒì¼ ì‚¬ìš©
python main.py -c path/to/settings.yaml

# Telegram ì—°ê²° í…ŒìŠ¤íŠ¸
python main.py --test-telegram

# Instagram ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
python main.py --test-login
```

### ì‹¤í–‰ ì˜ˆì‹œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Instagram Live Recorder         â”‚
â”‚   ìë™ ë¼ì´ë¸Œ ê°ì§€ ë° ë…¹í™” ì‹œìŠ¤í…œ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ì„¤ì • íŒŒì¼ ë¡œë“œ ì¤‘...
  âœ“ íƒ€ê²Ÿ ìœ ì €: 15ëª…
Instagram ë¡œê·¸ì¸ ì¤‘...
  âœ“ ë¡œê·¸ì¸ ì„±ê³µ
ë¼ì´ë¸Œ ëª¨ë‹ˆí„° ì´ˆê¸°í™” ì¤‘...
  âœ“ ëª¨ë‹ˆí„° ì¤€ë¹„ ì™„ë£Œ
ë…¹í™”ê¸° ì´ˆê¸°í™” ì¤‘...
  âœ“ ë…¹í™”ê¸° ì¤€ë¹„ ì™„ë£Œ
ì•Œë¦¼ ì„œë¹„ìŠ¤ ì´ˆê¸°í™” ì¤‘...
  âœ“ Telegram ì•Œë¦¼ ì¤€ë¹„ ì™„ë£Œ

âœ“ ì´ˆê¸°í™” ì™„ë£Œ!

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ëª¨ë‹ˆí„°ë§ ì‹œì‘!                â”‚
â”‚ ì²´í¬ ì£¼ê¸°: 300ì´ˆ                      â”‚
â”‚ ëŒ€ìƒ: 15ëª…                            â”‚
â”‚                                       â”‚
â”‚ ì¢…ë£Œí•˜ë ¤ë©´ Ctrl+Cë¥¼ ëˆ„ë¥´ì„¸ìš”          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[14:30:00] ì²´í¬ #1 | í™œì„± ë¼ì´ë¸Œ: 0 | ë…¹í™” ì¤‘: 0
[14:35:00] ì²´í¬ #2 | í™œì„± ë¼ì´ë¸Œ: 1 | ë…¹í™” ì¤‘: 1
ğŸ”´ ë¼ì´ë¸Œ ê°ì§€: ì˜ˆì‹œìœ ì € (@example_user)
ğŸ¬ ë…¹í™” ì‹œì‘: ì˜ˆì‹œìœ ì € -> data/recordings/example_user/example_user_20240123_143500.mp4
```

## íŒŒì¼ êµ¬ì¡°

```
instagram-live-recorder/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ settings.yaml      # ë©”ì¸ ì„¤ì • íŒŒì¼
â”‚   â””â”€â”€ targets.json       # ëª¨ë‹ˆí„°ë§ ëŒ€ìƒ ëª©ë¡
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ sessions/          # Instagram ì„¸ì…˜ ìºì‹œ
â”‚   â”œâ”€â”€ recordings/        # ë…¹í™” íŒŒì¼
â”‚   â”‚   â””â”€â”€ {username}/    # ìœ ì €ë³„ í´ë”
â”‚   â””â”€â”€ logs/              # ë¡œê·¸ íŒŒì¼
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ auth/              # ì¸ì¦ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ monitor/           # ë¼ì´ë¸Œ ëª¨ë‹ˆí„°ë§
â”‚   â”œâ”€â”€ recorder/          # ë…¹í™” ëª¨ë“ˆ
â”‚   â”œâ”€â”€ storage/           # í´ë¼ìš°ë“œ ì €ì¥ì†Œ
â”‚   â”œâ”€â”€ notifier/          # ì•Œë¦¼ ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ utils/             # ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ main.py                # ë©”ì¸ ì‹¤í–‰ íŒŒì¼
â””â”€â”€ requirements.txt       # ì˜ì¡´ì„± ëª©ë¡
```

## ë¬¸ì œ í•´ê²°

### ë¡œê·¸ì¸ ì‹¤íŒ¨

1. **ë¹„ë°€ë²ˆí˜¸ í™•ì¸**: íŠ¹ìˆ˜ë¬¸ìê°€ ìˆìœ¼ë©´ ë”°ì˜´í‘œë¡œ ê°ì‹¸ì„¸ìš”
2. **2FA ë¬¸ì œ**: `totp_secret` ì„¤ì • ë˜ëŠ” ì¼ì‹œì ìœ¼ë¡œ 2FA ë¹„í™œì„±í™”
3. **ë³´ì•ˆ í™•ì¸ ìš”ì²­**: Instagram ì•±/ì›¹ì—ì„œ ì§ì ‘ ë¡œê·¸ì¸í•˜ì—¬ í™•ì¸ í›„ ì¬ì‹œë„
4. **IP ì°¨ë‹¨**: VPN ì‚¬ìš© ë˜ëŠ” ì ì‹œ í›„ ì¬ì‹œë„

### ë…¹í™” ì‹¤íŒ¨

1. **FFmpeg í™•ì¸**: `ffmpeg -version` ëª…ë ¹ìœ¼ë¡œ ì„¤ì¹˜ í™•ì¸
2. **yt-dlp ì—…ë°ì´íŠ¸**: `pip install -U yt-dlp`
3. **ë””ìŠ¤í¬ ê³µê°„**: ì¶©ë¶„í•œ ì €ì¥ ê³µê°„ í™•ì¸
4. **ê¶Œí•œ ë¬¸ì œ**: ì¶œë ¥ í´ë” ì“°ê¸° ê¶Œí•œ í™•ì¸

### ì„¸ì…˜ ë§Œë£Œ

- ì„¸ì…˜ì€ ìë™ìœ¼ë¡œ ë³µêµ¬ë¥¼ ì‹œë„í•©ë‹ˆë‹¤
- ê³„ì† ì‹¤íŒ¨ ì‹œ `data/sessions/session.json` ì‚­ì œ í›„ ì¬ì‹œì‘

## ì£¼ì˜ì‚¬í•­

âš ï¸ **ì´ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ê¸° ì „ì— ë°˜ë“œì‹œ ì½ì–´ì£¼ì„¸ìš”:**

1. **Instagram ì´ìš©ì•½ê´€**: ë¹„ê³µì‹ API ì‚¬ìš©ì€ ì´ìš©ì•½ê´€ ìœ„ë°˜ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤
2. **ê³„ì • ìœ„í—˜**: ê³„ì • ì •ì§€ ìœ„í—˜ì´ ìˆìœ¼ë¯€ë¡œ ë¶€ê³„ì • ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤
3. **ì €ì‘ê¶Œ**: ë…¹í™”ëœ ì½˜í…ì¸ ì˜ ì €ì‘ê¶Œì€ ì› ì œì‘ìì—ê²Œ ìˆìŠµë‹ˆë‹¤
4. **ê°œì¸ ì‚¬ìš©**: ì´ í”„ë¡œê·¸ë¨ì€ ê°œì¸ì ì¸ ì•„ì¹´ì´ë¸Œ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ì„¸ìš”
5. **ì¬ë°°í¬ ê¸ˆì§€**: ë…¹í™”ëœ ì˜ìƒì„ íƒ€ì¸ê³¼ ê³µìœ í•˜ê±°ë‚˜ ì¬ë°°í¬í•˜ì§€ ë§ˆì„¸ìš”

## ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” ê°œì¸ ì‚¬ìš© ëª©ì ìœ¼ë¡œë§Œ ì œê³µë©ë‹ˆë‹¤.
